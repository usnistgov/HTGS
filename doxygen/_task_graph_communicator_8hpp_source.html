<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HTGS: /home/tjb3/phd-research/HTGS/src/htgs/core/comm/TaskGraphCommunicator.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HTGS-Logo-color-main.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HTGS
   &#160;<span id="projectnumber">v2.0</span>
   </div>
   <div id="projectbrief">The Hybrid Task Graph Scheduler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_task_graph_communicator_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TaskGraphCommunicator.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_task_graph_communicator_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// NIST-developed software is provided by NIST as a public service. You may use, copy and distribute copies of the software in any medium, provided that you keep intact this entire notice. You may improve, modify and create derivative works of the software or any portion of the software, and you may copy and distribute such modifications or works. Modified works should carry a notice stating that you changed the software and should note the date and nature of any such change. Please explicitly acknowledge the National Institute of Standards and Technology as the source of the software.</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// NIST-developed software is expressly provided &quot;AS IS.&quot; NIST MAKES NO WARRANTY OF ANY KIND, EXPRESS, IMPLIED, IN FACT OR ARISING BY OPERATION OF LAW, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT AND DATA ACCURACY. NIST NEITHER REPRESENTS NOR WARRANTS THAT THE OPERATION OF THE SOFTWARE WILL BE UNINTERRUPTED OR ERROR-FREE, OR THAT ANY DEFECTS WILL BE CORRECTED. NIST DOES NOT WARRANT OR MAKE ANY REPRESENTATIONS REGARDING THE USE OF THE SOFTWARE OR THE RESULTS THEREOF, INCLUDING BUT NOT LIMITED TO THE CORRECTNESS, ACCURACY, RELIABILITY, OR USEFULNESS OF THE SOFTWARE.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// You are solely responsible for determining the appropriateness of using and distributing the software and you assume all risks associated with its use, including but not limited to the risks and costs of program errors, compliance with applicable laws, damage to or loss of data, programs or equipment, and the unavailability or interruption of operation. This software is not intended to be used in any situation where a failure could cause risk of injury or damage to property. The software developed by NIST employees is not subject to copyright protection within the United States.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef HTGS_TASKGRAPHCOMMUNICATOR</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define HTGS_TASKGRAPHCOMMUNICATOR</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_any_connector_8hpp.html">htgs/core/graph/AnyConnector.hpp</a>&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_blocking_queue_8hpp.html">htgs/core/queue/BlockingQueue.hpp</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_data_packet_8hpp.html">DataPacket.hpp</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacehtgs.html">htgs</a> {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">class </span>TaskGraphCommunicator;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="_task_graph_communicator_8hpp.html#a7c59f0f85195e200584af8a02e97d7c9">   31</a></span>&#160;<span class="keyword">typedef</span> std::unordered_map&lt;std::string, TaskGraphCommunicator *&gt; <a class="code" href="_task_graph_communicator_8hpp.html#a7c59f0f85195e200584af8a02e97d7c9">TaskCommMap</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="_task_graph_communicator_8hpp.html#a7c842d7fddbf3cb67644f28c34accfbc">   37</a></span>&#160;<span class="keyword">typedef</span> std::pair&lt;std::string, TaskGraphCommunicator *&gt; <a class="code" href="_task_graph_communicator_8hpp.html#a7c842d7fddbf3cb67644f28c34accfbc">TaskCommPair</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html">   65</a></span>&#160;<span class="keyword">class </span><a class="code" href="classhtgs_1_1_task_graph_communicator.html">TaskGraphCommunicator</a> {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a3e2d7c194f9c25836ab191b125d51c13">   74</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a3e2d7c194f9c25836ab191b125d51c13">TaskGraphCommunicator</a>(<a class="code" href="classhtgs_1_1_task_graph_communicator.html">TaskGraphCommunicator</a> *parent, std::string <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aad666eff18170680f0296cf908c31839">address</a>)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      : <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>(parent), address(address) {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a> = <span class="keyword">new</span> std::unordered_multimap&lt;std::string, std::shared_ptr&lt;AnyConnector&gt;&gt;();</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a> = <span class="keyword">new</span> TaskCommMap();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a2ea46482827c460c7499d198befd9dec">addChild</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a> = 0;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">numGraphsReceived</a> = 0;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">terminated</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  ~<a class="code" href="classhtgs_1_1_task_graph_communicator.html">TaskGraphCommunicator</a>() {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#ad319bc32bb481ed30efa133c472de1e7">  107</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ad319bc32bb481ed30efa133c472de1e7">rootSpawnThreads</a>() {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Validate this is root</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="comment">// Flatten lookup table for parent and children</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a> = std::shared_ptr&lt;std::unordered_multimap&lt;std::string,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                                                                    std::shared_ptr&lt;AnyConnector&gt;&gt;&gt;(<span class="keyword">new</span> std::unordered_multimap&lt;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          std::string,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          std::shared_ptr&lt;AnyConnector&gt;&gt;());</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#affc467f0ab16e5cbc8b58759c102e3f5">processFlattenTaskNameConnectorMap</a>(this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a295fb363dcce12a8911cbfce4eed5425">spawnChildrenThreads</a>();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a295fb363dcce12a8911cbfce4eed5425">  126</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a295fb363dcce12a8911cbfce4eed5425">spawnChildrenThreads</a>() {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab746a9ae33df0d5a8936515877250e3c">spawnThread</a>();</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>-&gt;size() &gt; 0) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> commChild : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        commChild.second-&gt;spawnChildrenThreads();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#ab746a9ae33df0d5a8936515877250e3c">  139</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab746a9ae33df0d5a8936515877250e3c">spawnThread</a>() {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a> = <span class="keyword">new</span> std::thread(&amp;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#af3a6b8fdd0e01948ac65a338a6f5edb8">TaskGraphCommunicator::run</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a3c19610bb5966553a488782801c860f3">  147</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a3c19610bb5966553a488782801c860f3">setNumGraphsSpawned</a>(<span class="keywordtype">size_t</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a>) { this-&gt;numGraphsSpawned = <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a>; }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#ae6e4dad1438c70313f789191ec448685">  153</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ae6e4dad1438c70313f789191ec448685">printParents</a>(std::string prefix) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    std::cout &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;Address = &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aad666eff18170680f0296cf908c31839">address</a> &lt;&lt; std::endl;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">getParentComm</a>() == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;=====DONE=====&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">getParentComm</a>()-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#ae6e4dad1438c70313f789191ec448685">printParents</a>(prefix + <span class="stringliteral">&quot;\t\t&quot;</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a4e03bd448e09411634cfd89b8ef48324">  169</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a4e03bd448e09411634cfd89b8ef48324">printTree</a>(std::string prefix) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">//    std::cout &lt;&lt; &quot;Num graphs spawned = &quot; &lt;&lt; numGraphsSpawned &lt;&lt; &quot; Graphs received: &quot; &lt;&lt; numGraphsReceived &lt;&lt; std::endl;</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">getParentComm</a>() == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;PARENT addr: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#acc7f3534fd7cdcb5b11fe253a3977e75">getAddress</a>() &lt;&lt; std::endl;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Parent address = &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">getParentComm</a>()-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#acc7f3534fd7cdcb5b11fe253a3977e75">getAddress</a>() &lt;&lt; std::endl;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    std::cout &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;Num children: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#abae4b3a65f50db3eef0dce983df66ae1">getChildren</a>()-&gt;size() &lt;&lt; <span class="stringliteral">&quot; Num connectors = &quot;</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;              &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a>-&gt;size() &lt;&lt; std::endl;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> conn : *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a>) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      std::cout &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;\t\t&quot;</span> &lt;&lt; conn.first &lt;&lt; std::endl;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> child : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#abae4b3a65f50db3eef0dce983df66ae1">getChildren</a>()) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      std::cout &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot; CHILD addr: &quot;</span> &lt;&lt; child.first &lt;&lt; std::endl;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      child.second-&gt;printTree(prefix + <span class="stringliteral">&quot;\t&quot;</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">  195</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph_communicator.html">TaskGraphCommunicator</a> *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">getParentComm</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#abae4b3a65f50db3eef0dce983df66ae1">  203</a></span>&#160;  TaskCommMap *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#abae4b3a65f50db3eef0dce983df66ae1">getChildren</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a61bcb15d176dfe295d8238d8a7cc67f8">  214</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a61bcb15d176dfe295d8238d8a7cc67f8">checkRootSpawnThreads</a>() {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">numGraphsReceived</a> == <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a>) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#ad319bc32bb481ed30efa133c472de1e7">rootSpawnThreads</a>();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a61bcb15d176dfe295d8238d8a7cc67f8">checkRootSpawnThreads</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a43d306262f4a7c90f8a8b3e4923fc271">  229</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a43d306262f4a7c90f8a8b3e4923fc271">incrementRootCommunicatorGraphs</a>() {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">// Check if this is the root</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">numGraphsReceived</a>++;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// If all the graphs have produced their updates, then begin the communication threads</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">numGraphsReceived</a> == <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a>) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#ad319bc32bb481ed30efa133c472de1e7">rootSpawnThreads</a>();</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a43d306262f4a7c90f8a8b3e4923fc271">incrementRootCommunicatorGraphs</a>();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#aa43b4f70cf3246dad2b124e0ac61871f">  250</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aa43b4f70cf3246dad2b124e0ac61871f">getRootNumGraphsReceived</a>() {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">numGraphsReceived</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aa43b4f70cf3246dad2b124e0ac61871f">getRootNumGraphsReceived</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a281a55015233f4e26aca398c76b620c8">  264</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a281a55015233f4e26aca398c76b620c8">getRootTotalSubGraphsSpawned</a>() {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a281a55015233f4e26aca398c76b620c8">getRootTotalSubGraphsSpawned</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#affc467f0ab16e5cbc8b58759c102e3f5">  278</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#affc467f0ab16e5cbc8b58759c102e3f5">processFlattenTaskNameConnectorMap</a>(std::shared_ptr&lt;std::unordered_multimap&lt;std::string,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                                                                  std::shared_ptr&lt;AnyConnector&gt;&gt;&gt; <a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a> = <a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> nameConnectorPair : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a>) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>-&gt;insert(nameConnectorPair);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Send to children</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>-&gt;size() &gt; 0) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> child : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        child.second-&gt;processFlattenTaskNameConnectorMap(this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a5a72607eaa8b546c25867d946ba07c02">  304</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a5a72607eaa8b546c25867d946ba07c02">addTaskNameConnectorMap</a>(std::unordered_multimap&lt;std::string, std::shared_ptr&lt;AnyConnector&gt;&gt; *o) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> nameConnectorPair : *o) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a>-&gt;insert(nameConnectorPair);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// Ignore the root, as we only care about sub graphs.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a43d306262f4a7c90f8a8b3e4923fc271">incrementRootCommunicatorGraphs</a>();</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a61bcb15d176dfe295d8238d8a7cc67f8">checkRootSpawnThreads</a>();</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">//    std::cout &lt;&lt; &quot;Adding graph connectors for graph &quot; &lt;&lt; this-&gt;address &lt;&lt; &quot; Total count = &quot;</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">//              &lt;&lt; this-&gt;getRootNumGraphsReceived() &lt;&lt; &quot; out of &quot; &lt;&lt; this-&gt;getRootTotalSubGraphsSpawned() &lt;&lt; std::endl;</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a2ea46482827c460c7499d198befd9dec">  325</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a2ea46482827c460c7499d198befd9dec">addChild</a>(<a class="code" href="classhtgs_1_1_task_graph_communicator.html">TaskGraphCommunicator</a> *comm) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">//    std::cout &lt;&lt; &quot;Adding child: &quot; &lt;&lt; comm-&gt;getAddress() &lt;&lt; &quot; to &quot; &lt;&lt; this-&gt;address &lt;&lt; std::endl;</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a53d9b7df0c63fa749850ab5dbef7aa8a">mutex</a>.lock();</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>-&gt;insert(TaskCommPair(comm-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#acc7f3534fd7cdcb5b11fe253a3977e75">getAddress</a>(), comm));</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a53d9b7df0c63fa749850ab5dbef7aa8a">mutex</a>.unlock();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#acc7f3534fd7cdcb5b11fe253a3977e75">  338</a></span>&#160;  std::string <a class="code" href="classhtgs_1_1_task_graph_communicator.html#acc7f3534fd7cdcb5b11fe253a3977e75">getAddress</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aad666eff18170680f0296cf908c31839">address</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a066c52c0bf8d1199342bac4c44fa9fd5">  345</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a066c52c0bf8d1199342bac4c44fa9fd5">terminateGracefully</a>() {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a356754ff924d43816daa2b515c90d06d">dataQueue</a>.Enqueue(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a>-&gt;join();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#af3a6b8fdd0e01948ac65a338a6f5edb8">  355</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#af3a6b8fdd0e01948ac65a338a6f5edb8">run</a>() {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">terminated</a>) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a397bdb0aa3b8ac823c38ea78009516a4">processDataPacket</a>();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#acdb4da0a89bf85675bd48bb3f0845f01">  366</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#acdb4da0a89bf85675bd48bb3f0845f01">produceDataPacket</a>(std::shared_ptr&lt;DataPacket&gt; data) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a356754ff924d43816daa2b515c90d06d">dataQueue</a>.Enqueue(data);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a397bdb0aa3b8ac823c38ea78009516a4">  377</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a397bdb0aa3b8ac823c38ea78009516a4">processDataPacket</a>() {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">auto</span> packet = <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a356754ff924d43816daa2b515c90d06d">dataQueue</a>.Dequeue();</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">//    std::cout &lt;&lt; &quot;Received data packet: &quot;&lt;&lt; packet &lt;&lt; std::endl;</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (packet == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">terminated</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    std::string endPoint = packet-&gt;getDestAddr() + <span class="stringliteral">&quot;:&quot;</span> + packet-&gt;getDestName();</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// Get connector</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">size_t</span> numItems = <a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>-&gt;count(endPoint);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (numItems == 1) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keyword">auto</span> connIterator = <a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>-&gt;find(endPoint);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="comment">// Gets the connector for the end point</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keyword">auto</span> endPointConnector = connIterator-&gt;second;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">// Add data</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      endPointConnector-&gt;produceAnyData(packet-&gt;getData());</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (numItems == 0)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Graph is unable to find destination task name: &#39;&quot;</span> &lt;&lt; endPoint</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;&#39;. Make sure the task&#39;s name exists within the graph. Origin: &quot;</span> &lt;&lt; packet-&gt;getOriginAddr() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                  &lt;&lt; packet-&gt;getOriginName() &lt;&lt; std::endl;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Graph has tasks with duplicate name: &#39;&quot;</span> &lt;&lt; endPoint</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;&#39; to send data between tasks, each task should have a unique name! Origin: &quot;</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                  &lt;&lt; packet-&gt;getOriginAddr() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; packet-&gt;getOriginName() &lt;&lt; std::endl;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a2b48123b40a7aa22931174411d6aaa96">  419</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a2b48123b40a7aa22931174411d6aaa96">isTerminated</a>() { <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">terminated</a>; }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  std::unordered_multimap&lt;std::string, std::shared_ptr&lt;AnyConnector&gt;&gt;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">  423</a></span>&#160;      *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">taskNameConnectorMap</a>; </div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  std::shared_ptr&lt;std::unordered_multimap&lt;std::string, std::shared_ptr&lt;AnyConnector&gt;&gt;&gt;</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">  426</a></span>&#160;      <a class="code" href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">flattenedTaskNameConnectorMap</a>; </div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">  428</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph_communicator.html">TaskGraphCommunicator</a> *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">parentComm</a>; </div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#aad666eff18170680f0296cf908c31839">  429</a></span>&#160;  std::string <a class="code" href="classhtgs_1_1_task_graph_communicator.html#aad666eff18170680f0296cf908c31839">address</a>; </div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">  431</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">numGraphsSpawned</a>; </div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">  432</a></span>&#160;  std::atomic_size_t <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">numGraphsReceived</a>; </div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">  434</a></span>&#160;  TaskCommMap *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">children</a>; </div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a53d9b7df0c63fa749850ab5dbef7aa8a">  436</a></span>&#160;  std::mutex <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a53d9b7df0c63fa749850ab5dbef7aa8a">mutex</a>; </div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a356754ff924d43816daa2b515c90d06d">  437</a></span>&#160;  <a class="code" href="classhtgs_1_1_blocking_queue.html">BlockingQueue&lt;std::shared_ptr&lt;DataPacket&gt;</a>&gt; <a class="code" href="classhtgs_1_1_task_graph_communicator.html#a356754ff924d43816daa2b515c90d06d">dataQueue</a>; </div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">  439</a></span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">terminated</a>; </div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">  440</a></span>&#160;  std::thread *<a class="code" href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">thread</a>; </div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;};</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#endif //HTGS_TASKGRAPHCOMMUNICATOR</span></div><div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a61bcb15d176dfe295d8238d8a7cc67f8"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a61bcb15d176dfe295d8238d8a7cc67f8">htgs::TaskGraphCommunicator::checkRootSpawnThreads</a></div><div class="ttdeci">void checkRootSpawnThreads()</div><div class="ttdoc">Checks if the root can spawn threads yet or not. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:214</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a53d9b7df0c63fa749850ab5dbef7aa8a"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a53d9b7df0c63fa749850ab5dbef7aa8a">htgs::TaskGraphCommunicator::mutex</a></div><div class="ttdeci">std::mutex mutex</div><div class="ttdoc">A mutex used to ensure thread safety. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:436</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a0ab7673355ce07ae2461d8c11bc80f3a"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a0ab7673355ce07ae2461d8c11bc80f3a">htgs::TaskGraphCommunicator::children</a></div><div class="ttdeci">TaskCommMap * children</div><div class="ttdoc">The children communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:434</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a4e03bd448e09411634cfd89b8ef48324"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a4e03bd448e09411634cfd89b8ef48324">htgs::TaskGraphCommunicator::printTree</a></div><div class="ttdeci">void printTree(std::string prefix)</div><div class="ttdoc">Prints the task graph communicator tree recursively to std::cout. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:169</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_aad666eff18170680f0296cf908c31839"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#aad666eff18170680f0296cf908c31839">htgs::TaskGraphCommunicator::address</a></div><div class="ttdeci">std::string address</div><div class="ttdoc">The address of the communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:429</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a2b48123b40a7aa22931174411d6aaa96"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a2b48123b40a7aa22931174411d6aaa96">htgs::TaskGraphCommunicator::isTerminated</a></div><div class="ttdeci">bool isTerminated()</div><div class="ttdoc">Gets whether the task communicator is terminated or not. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:419</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a3e2d7c194f9c25836ab191b125d51c13"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a3e2d7c194f9c25836ab191b125d51c13">htgs::TaskGraphCommunicator::TaskGraphCommunicator</a></div><div class="ttdeci">TaskGraphCommunicator(TaskGraphCommunicator *parent, std::string address)</div><div class="ttdoc">Constructs the task graph communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:74</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a3c19610bb5966553a488782801c860f3"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a3c19610bb5966553a488782801c860f3">htgs::TaskGraphCommunicator::setNumGraphsSpawned</a></div><div class="ttdeci">void setNumGraphsSpawned(size_t numGraphsSpawned)</div><div class="ttdoc">Sets the number of graphs spawned. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:147</div></div>
<div class="ttc" id="classhtgs_1_1_blocking_queue_html"><div class="ttname"><a href="classhtgs_1_1_blocking_queue.html">htgs::BlockingQueue</a></div><div class="ttdoc">Creates a thread-safe queue that will wait when no data is available and can block if the queue is fu...</div><div class="ttdef"><b>Definition:</b> BlockingQueue.hpp:30</div></div>
<div class="ttc" id="_task_graph_communicator_8hpp_html_a7c59f0f85195e200584af8a02e97d7c9"><div class="ttname"><a href="_task_graph_communicator_8hpp.html#a7c59f0f85195e200584af8a02e97d7c9">htgs::TaskCommMap</a></div><div class="ttdeci">std::unordered_map&lt; std::string, TaskGraphCommunicator * &gt; TaskCommMap</div><div class="ttdoc">A mapping between the name of a task and its task graph communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:31</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_ad319bc32bb481ed30efa133c472de1e7"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#ad319bc32bb481ed30efa133c472de1e7">htgs::TaskGraphCommunicator::rootSpawnThreads</a></div><div class="ttdeci">void rootSpawnThreads()</div><div class="ttdoc">Spawns threads only if the task graph communicator calling this function is the root communicator...</div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:107</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html">htgs::TaskGraphCommunicator</a></div><div class="ttdoc">Implements the task graph communicator where a task&amp;#39;s address and name are mapped to their input conn...</div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:65</div></div>
<div class="ttc" id="_blocking_queue_8hpp_html"><div class="ttname"><a href="_blocking_queue_8hpp.html">BlockingQueue.hpp</a></div><div class="ttdoc">Implements a thread-safe BlockingQueue. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_af3a6b8fdd0e01948ac65a338a6f5edb8"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#af3a6b8fdd0e01948ac65a338a6f5edb8">htgs::TaskGraphCommunicator::run</a></div><div class="ttdeci">void run()</div><div class="ttdoc">Main run function for the thread, which processes data packets until it is terminated. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:355</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_abece203e04aefce9e139499fc949d781"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#abece203e04aefce9e139499fc949d781">htgs::TaskGraphCommunicator::terminated</a></div><div class="ttdeci">volatile bool terminated</div><div class="ttdoc">Flag used to indicate if the communicator is terminated or not. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:439</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_acc7f3534fd7cdcb5b11fe253a3977e75"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#acc7f3534fd7cdcb5b11fe253a3977e75">htgs::TaskGraphCommunicator::getAddress</a></div><div class="ttdeci">std::string getAddress() const </div><div class="ttdoc">Gets the address of the task graph communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:338</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a397bdb0aa3b8ac823c38ea78009516a4"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a397bdb0aa3b8ac823c38ea78009516a4">htgs::TaskGraphCommunicator::processDataPacket</a></div><div class="ttdeci">void processDataPacket()</div><div class="ttdoc">Processes one data packet. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:377</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_acdb4da0a89bf85675bd48bb3f0845f01"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#acdb4da0a89bf85675bd48bb3f0845f01">htgs::TaskGraphCommunicator::produceDataPacket</a></div><div class="ttdeci">void produceDataPacket(std::shared_ptr&lt; DataPacket &gt; data)</div><div class="ttdoc">Produces data packet to be processed for the task graph communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:366</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a31e8d3b677fe70448898c0855b4e6b0a"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a31e8d3b677fe70448898c0855b4e6b0a">htgs::TaskGraphCommunicator::getParentComm</a></div><div class="ttdeci">TaskGraphCommunicator * getParentComm() const </div><div class="ttdoc">Gets the parent communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:195</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a5a72607eaa8b546c25867d946ba07c02"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a5a72607eaa8b546c25867d946ba07c02">htgs::TaskGraphCommunicator::addTaskNameConnectorMap</a></div><div class="ttdeci">void addTaskNameConnectorMap(std::unordered_multimap&lt; std::string, std::shared_ptr&lt; AnyConnector &gt;&gt; *o)</div><div class="ttdoc">Adds the mapping between a task&amp;#39;s address and its name to the input connector for that task...</div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:304</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_aed2f5c2927f968725723a9c080f6891d"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#aed2f5c2927f968725723a9c080f6891d">htgs::TaskGraphCommunicator::parentComm</a></div><div class="ttdeci">TaskGraphCommunicator * parentComm</div><div class="ttdoc">The parent communicator (or nullptr if this is the root communicator). </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:428</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a96b8f7818747f5696e5e5a4ac62658ec"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a96b8f7818747f5696e5e5a4ac62658ec">htgs::TaskGraphCommunicator::numGraphsReceived</a></div><div class="ttdeci">std::atomic_size_t numGraphsReceived</div><div class="ttdoc">The number of graphs received. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:432</div></div>
<div class="ttc" id="_any_connector_8hpp_html"><div class="ttname"><a href="_any_connector_8hpp.html">AnyConnector.hpp</a></div><div class="ttdoc">Holds parent class for Connector, removes template type of Connector. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a066c52c0bf8d1199342bac4c44fa9fd5"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a066c52c0bf8d1199342bac4c44fa9fd5">htgs::TaskGraphCommunicator::terminateGracefully</a></div><div class="ttdeci">void terminateGracefully()</div><div class="ttdoc">Gracefully terminates the task graph communicator thread. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:345</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a356754ff924d43816daa2b515c90d06d"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a356754ff924d43816daa2b515c90d06d">htgs::TaskGraphCommunicator::dataQueue</a></div><div class="ttdeci">BlockingQueue&lt; std::shared_ptr&lt; DataPacket &gt; &gt; dataQueue</div><div class="ttdoc">The data queue to hold data packets. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:437</div></div>
<div class="ttc" id="_data_packet_8hpp_html"><div class="ttname"><a href="_data_packet_8hpp.html">DataPacket.hpp</a></div><div class="ttdoc">Implements the data packet that is used by the TaskGraphCommunicator. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a2ea46482827c460c7499d198befd9dec"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a2ea46482827c460c7499d198befd9dec">htgs::TaskGraphCommunicator::addChild</a></div><div class="ttdeci">void addChild(TaskGraphCommunicator *comm)</div><div class="ttdoc">Adds a child communicator for this task graph communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:325</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_ab48ac06c2adc73a6211731d5f3be52be"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#ab48ac06c2adc73a6211731d5f3be52be">htgs::TaskGraphCommunicator::numGraphsSpawned</a></div><div class="ttdeci">size_t numGraphsSpawned</div><div class="ttdoc">The number of graphs spawned. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:431</div></div>
<div class="ttc" id="_task_graph_communicator_8hpp_html_a7c842d7fddbf3cb67644f28c34accfbc"><div class="ttname"><a href="_task_graph_communicator_8hpp.html#a7c842d7fddbf3cb67644f28c34accfbc">htgs::TaskCommPair</a></div><div class="ttdeci">std::pair&lt; std::string, TaskGraphCommunicator * &gt; TaskCommPair</div><div class="ttdoc">A pair used for the TaskCommMap. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:37</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_affc467f0ab16e5cbc8b58759c102e3f5"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#affc467f0ab16e5cbc8b58759c102e3f5">htgs::TaskGraphCommunicator::processFlattenTaskNameConnectorMap</a></div><div class="ttdeci">void processFlattenTaskNameConnectorMap(std::shared_ptr&lt; std::unordered_multimap&lt; std::string, std::shared_ptr&lt; AnyConnector &gt;&gt;&gt; flattenedTaskNameConnectorMap)</div><div class="ttdoc">Flattens the mapping between the addresses and task manager names and their connnectors. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:278</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_ab746a9ae33df0d5a8936515877250e3c"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#ab746a9ae33df0d5a8936515877250e3c">htgs::TaskGraphCommunicator::spawnThread</a></div><div class="ttdeci">void spawnThread()</div><div class="ttdoc">Spawns the thread for this communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:139</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a43d306262f4a7c90f8a8b3e4923fc271"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a43d306262f4a7c90f8a8b3e4923fc271">htgs::TaskGraphCommunicator::incrementRootCommunicatorGraphs</a></div><div class="ttdeci">void incrementRootCommunicatorGraphs()</div><div class="ttdoc">Increments the number of graphs received by the root communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:229</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_abae4b3a65f50db3eef0dce983df66ae1"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#abae4b3a65f50db3eef0dce983df66ae1">htgs::TaskGraphCommunicator::getChildren</a></div><div class="ttdeci">TaskCommMap * getChildren() const </div><div class="ttdoc">Gets the children for the task graph communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:203</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a073ec88650dab2b9d255002f2cb108f1"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a073ec88650dab2b9d255002f2cb108f1">htgs::TaskGraphCommunicator::taskNameConnectorMap</a></div><div class="ttdeci">std::unordered_multimap&lt; std::string, std::shared_ptr&lt; AnyConnector &gt; &gt; * taskNameConnectorMap</div><div class="ttdoc">The local mapping between the task graph communicator and its task graph. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:423</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a295fb363dcce12a8911cbfce4eed5425"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a295fb363dcce12a8911cbfce4eed5425">htgs::TaskGraphCommunicator::spawnChildrenThreads</a></div><div class="ttdeci">void spawnChildrenThreads()</div><div class="ttdoc">Spawns the threads for all children communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:126</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_adf0fb6869ea68d39147f205998273ad7"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#adf0fb6869ea68d39147f205998273ad7">htgs::TaskGraphCommunicator::flattenedTaskNameConnectorMap</a></div><div class="ttdeci">std::shared_ptr&lt; std::unordered_multimap&lt; std::string, std::shared_ptr&lt; AnyConnector &gt; &gt; &gt; flattenedTaskNameConnectorMap</div><div class="ttdoc">The flattened mapping shared between all task graph communicators. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:426</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_aa43b4f70cf3246dad2b124e0ac61871f"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#aa43b4f70cf3246dad2b124e0ac61871f">htgs::TaskGraphCommunicator::getRootNumGraphsReceived</a></div><div class="ttdeci">size_t getRootNumGraphsReceived()</div><div class="ttdoc">Gets the number of graphs received by the root communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:250</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a281a55015233f4e26aca398c76b620c8"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a281a55015233f4e26aca398c76b620c8">htgs::TaskGraphCommunicator::getRootTotalSubGraphsSpawned</a></div><div class="ttdeci">size_t getRootTotalSubGraphsSpawned()</div><div class="ttdoc">Gets the number of graphs spawned by the root communicator. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:264</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_a162a3ef8e3fecb8b09054e705e024b79"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#a162a3ef8e3fecb8b09054e705e024b79">htgs::TaskGraphCommunicator::thread</a></div><div class="ttdeci">std::thread * thread</div><div class="ttdoc">The communicator thread. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:440</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_communicator_html_ae6e4dad1438c70313f789191ec448685"><div class="ttname"><a href="classhtgs_1_1_task_graph_communicator.html#ae6e4dad1438c70313f789191ec448685">htgs::TaskGraphCommunicator::printParents</a></div><div class="ttdeci">void printParents(std::string prefix)</div><div class="ttdoc">Prints the address of the parent communicator recursively to std::cout. </div><div class="ttdef"><b>Definition:</b> TaskGraphCommunicator.hpp:153</div></div>
<div class="ttc" id="namespacehtgs_html"><div class="ttname"><a href="namespacehtgs.html">htgs</a></div><div class="ttdef"><b>Definition:</b> Bookkeeper.hpp:23</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e66be865834cb5c8612ced50101ecfbe.html">htgs</a></li><li class="navelem"><a class="el" href="dir_1170310c89db8eeed684ab8d2090e01b.html">core</a></li><li class="navelem"><a class="el" href="dir_c20ceab7c4254b0ab59ec20ccf0b4c6f.html">comm</a></li><li class="navelem"><a class="el" href="_task_graph_communicator_8hpp.html">TaskGraphCommunicator.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
